"""
Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¯ÙˆØ±ÙŠØ©
Periodic Reports Generator
"""

import os
from datetime import datetime, timedelta
from pathlib import Path
from typing import Dict, List
from trade_statistics import TradeStatistics
import json

class PeriodicReports:
    def __init__(self, output_dir="reports"):
        self.stats = TradeStatistics()
        self.output_dir = Path(__file__).parent / output_dir
        self.output_dir.mkdir(exist_ok=True)
    
    def generate_daily_report(self) -> str:
        """ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ"""
        today = datetime.now()
        
        # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…
        stats = self.stats.get_statistics(days=1)
        open_trades = self.stats.get_open_trades()
        
        report = f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“Š Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„ØªØ¯Ø§ÙˆÙ„                      â•‘
â•‘              Daily Trading Report                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: {today.strftime('%Y-%m-%d')}
â° Ø§Ù„ÙˆÙ‚Øª: {today.strftime('%H:%M:%S')}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…ÙŠ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙÙ‚Ø§Øª: {stats['total_trades']}
ğŸ¯ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {stats['winning_trades']} ({stats['win_rate']:.2f}%)
âŒ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø©: {stats['losing_trades']}
âš–ï¸  ØµÙÙ‚Ø§Øª Ø§Ù„ØªØ¹Ø§Ø¯Ù„: {stats['break_even_trades']}

ğŸ’° Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${stats['total_profit']:.2f}
ğŸ’¸ Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${stats['total_loss']:.2f}
ğŸ“Š ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${stats['net_profit']:.2f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (KPIs)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ (Win Rate): {stats['win_rate']:.2f}%
ğŸ’¹ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±Ø¨Ø­: ${stats['avg_win']:.2f} ({stats['avg_win_percentage']:.2f}%)
ğŸ“‰ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø®Ø³Ø§Ø±Ø©: ${stats['avg_loss']:.2f} ({stats['avg_loss_percentage']:.2f}%)
âš–ï¸  Ø¹Ø§Ù…Ù„ Ø§Ù„Ø±Ø¨Ø­ (Profit Factor): {stats['profit_factor']:.2f}
ğŸŒŸ Ø£ÙØ¶Ù„ ØµÙÙ‚Ø©: ${stats['best_trade']:.2f}
âš ï¸  Ø£Ø³ÙˆØ£ ØµÙÙ‚Ø©: ${stats['worst_trade']:.2f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        if stats['by_symbol']:
            for item in stats['by_symbol']:
                report += f"""
{item['symbol']}:
  ğŸ“ˆ Ø§Ù„ØµÙÙ‚Ø§Øª: {item['total_trades']} | âœ… Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {item['winning_trades']} ({item['win_rate']:.1f}%)
  ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${item['net_profit']:.2f}
"""
        else:
            report += "\nâš ï¸  Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙÙ‚Ø§Øª Ù…ØºÙ„Ù‚Ø© Ø§Ù„ÙŠÙˆÙ…\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        if stats['by_strategy']:
            for item in stats['by_strategy']:
                report += f"""
{item['strategy']}:
  ğŸ“ˆ Ø§Ù„ØµÙÙ‚Ø§Øª: {item['total_trades']} | âœ… Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {item['winning_trades']} ({item['win_rate']:.1f}%)
  ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${item['net_profit']:.2f}
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¼ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ù…ÙØªÙˆØ­Ø©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        if open_trades:
            for trade in open_trades:
                direction_emoji = "ğŸ“ˆ" if trade['direction'].lower() == 'buy' else "ğŸ“‰"
                report += f"""
{direction_emoji} {trade['symbol']} - {trade['direction'].upper()}
  ğŸ’µ Ø³Ø¹Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„: {trade['entry_price']:.5f}
  ğŸ›‘ ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©: {trade['stop_loss']:.5f}
  ğŸ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù: TP1: {trade['take_profit_1']:.5f} | TP2: {trade['take_profit_2']:.5f} | TP3: {trade['take_profit_3']:.5f}
  â° ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„: {trade['entry_time']}
  ğŸ“Š Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©: {trade['strategy']} | â± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø²Ù…Ù†ÙŠ: {trade['timeframe']}
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        else:
            report += "\nâœ… Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙÙ‚Ø§Øª Ù…ÙØªÙˆØ­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØªÙˆØµÙŠØ§Øª
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        # ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø¡
        recommendations = self._generate_recommendations(stats)
        for rec in recommendations:
            report += f"â€¢ {rec}\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                  ğŸŒŸ Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ ØªØ¯Ø§ÙˆÙ„Ø§Ù‹ Ù…ÙˆÙÙ‚Ø§Ù‹ ğŸŒŸ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
        
        # Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        filename = self.output_dir / f"daily_report_{today.strftime('%Y%m%d')}.txt"
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(report)
        
        return str(filename)
    
    def generate_weekly_report(self) -> str:
        """ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ"""
        today = datetime.now()
        week_start = today - timedelta(days=7)
        
        stats = self.stats.get_statistics(days=7)
        daily_summaries = self.stats.get_daily_summaries(days=7)
        
        report = f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“Š Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„ØªØ¯Ø§ÙˆÙ„                    â•‘
â•‘              Weekly Trading Report                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Ø§Ù„ÙØªØ±Ø©: {week_start.strftime('%Y-%m-%d')} Ø¥Ù„Ù‰ {today.strftime('%Y-%m-%d')}
ğŸ“† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹: {today.isocalendar()[1]} Ù…Ù† Ø¹Ø§Ù… {today.year}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙÙ‚Ø§Øª: {stats['total_trades']}
ğŸ¯ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {stats['winning_trades']} ({stats['win_rate']:.2f}%)
âŒ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø©: {stats['losing_trades']}
âš–ï¸  ØµÙÙ‚Ø§Øª Ø§Ù„ØªØ¹Ø§Ø¯Ù„: {stats['break_even_trades']}

ğŸ’° Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${stats['total_profit']:.2f}
ğŸ’¸ Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${stats['total_loss']:.2f}
ğŸ“Š ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${stats['net_profit']:.2f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­: {stats['win_rate']:.2f}%
ğŸ’¹ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±Ø¨Ø­: ${stats['avg_win']:.2f} ({stats['avg_win_percentage']:.2f}%)
ğŸ“‰ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø®Ø³Ø§Ø±Ø©: ${stats['avg_loss']:.2f} ({stats['avg_loss_percentage']:.2f}%)
âš–ï¸  Ø¹Ø§Ù…Ù„ Ø§Ù„Ø±Ø¨Ø­: {stats['profit_factor']:.2f}
ğŸŒŸ Ø£ÙØ¶Ù„ ØµÙÙ‚Ø©: ${stats['best_trade']:.2f}
âš ï¸  Ø£Ø³ÙˆØ£ ØµÙÙ‚Ø©: ${stats['worst_trade']:.2f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        for day in daily_summaries:
            report += f"""
ğŸ“† {day['date']}:
  ğŸ“ˆ Ø§Ù„ØµÙÙ‚Ø§Øª: {day['total_trades']} | âœ… Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {day['winning_trades']} ({day['win_rate']:.1f}%)
  ğŸ’° Ø§Ù„Ø±Ø¨Ø­: ${day['total_profit']:.2f} | ğŸ’¸ Ø§Ù„Ø®Ø³Ø§Ø±Ø©: ${day['total_loss']:.2f}
  ğŸ“Š Ø§Ù„ØµØ§ÙÙŠ: ${day['net_profit']:.2f}
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ† Ø£ÙØ¶Ù„ Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        for item in stats['by_symbol'][:5]:  # Ø£ÙØ¶Ù„ 5
            report += f"""
{item['symbol']}: ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ ${item['net_profit']:.2f} | Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ {item['win_rate']:.1f}%
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        for item in stats['by_strategy']:
            report += f"""
{item['strategy']}:
  Ø§Ù„ØµÙÙ‚Ø§Øª: {item['total_trades']} | Ø§Ù„Ù†Ø¬Ø§Ø­: {item['win_rate']:.1f}% | Ø§Ù„Ø±Ø¨Ø­: ${item['net_profit']:.2f}
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        analysis = self._generate_weekly_analysis(stats, daily_summaries)
        for point in analysis:
            report += f"â€¢ {point}\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             ğŸŒŸ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ­Ø³ÙŠÙ† ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± ğŸŒŸ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
        
        filename = self.output_dir / f"weekly_report_W{today.isocalendar()[1]}_{today.year}.txt"
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(report)
        
        return str(filename)
    
    def generate_monthly_report(self) -> str:
        """ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ"""
        today = datetime.now()
        
        stats = self.stats.get_statistics(days=30)
        daily_summaries = self.stats.get_daily_summaries(days=30)
        
        # Ø­Ø³Ø§Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©
        trading_days = len([d for d in daily_summaries if d['total_trades'] > 0])
        avg_daily_profit = stats['net_profit'] / trading_days if trading_days > 0 else 0
        
        report = f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“Š Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„ØªØ¯Ø§ÙˆÙ„                      â•‘
â•‘              Monthly Trading Report                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Ø§Ù„Ø´Ù‡Ø±: {today.strftime('%B %Y')}
ğŸ“† Ø§Ù„ÙØªØ±Ø©: Ø¢Ø®Ø± 30 ÙŠÙˆÙ…Ø§Ù‹
ğŸ“… Ø£ÙŠØ§Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„: {trading_days} ÙŠÙˆÙ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙÙ‚Ø§Øª: {stats['total_trades']}
ğŸ¯ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {stats['winning_trades']} ({stats['win_rate']:.2f}%)
âŒ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø©: {stats['losing_trades']}
âš–ï¸  ØµÙÙ‚Ø§Øª Ø§Ù„ØªØ¹Ø§Ø¯Ù„: {stats['break_even_trades']}

ğŸ’° Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${stats['total_profit']:.2f}
ğŸ’¸ Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${stats['total_loss']:.2f}
ğŸ“Š ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${stats['net_profit']:.2f}
ğŸ“ˆ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ÙŠÙˆÙ…ÙŠ: ${avg_daily_profit:.2f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ† Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {stats['win_rate']:.2f}%
ğŸ’¹ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±Ø¨Ø­ Ù„Ù„ØµÙÙ‚Ø© Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: ${stats['avg_win']:.2f} ({stats['avg_win_percentage']:.2f}%)
ğŸ“‰ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ù„Ù„ØµÙÙ‚Ø© Ø§Ù„Ø®Ø§Ø³Ø±Ø©: ${stats['avg_loss']:.2f} ({stats['avg_loss_percentage']:.2f}%)
âš–ï¸  Ø¹Ø§Ù…Ù„ Ø§Ù„Ø±Ø¨Ø­ (Profit Factor): {stats['profit_factor']:.2f}
ğŸŒŸ Ø£ÙØ¶Ù„ ØµÙÙ‚Ø© ÙÙŠ Ø§Ù„Ø´Ù‡Ø±: ${stats['best_trade']:.2f}
âš ï¸  Ø£Ø³ÙˆØ£ ØµÙÙ‚Ø© ÙÙŠ Ø§Ù„Ø´Ù‡Ø±: ${stats['worst_trade']:.2f}

ğŸ“Š Ù…ØªÙˆØ³Ø· Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©: {stats['total_trades'] / trading_days if trading_days > 0 else 0:.1f}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ† ØªØ±ØªÙŠØ¨ Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        for i, item in enumerate(stats['by_symbol'], 1):
            medal = "ğŸ¥‡" if i == 1 else "ğŸ¥ˆ" if i == 2 else "ğŸ¥‰" if i == 3 else f"{i}."
            report += f"""
{medal} {item['symbol']}:
   ğŸ“ˆ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙ‚Ø§Øª: {item['total_trades']}
   âœ… Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­: {item['win_rate']:.1f}%
   ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${item['net_profit']:.2f}
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        for item in stats['by_strategy']:
            efficiency = (item['net_profit'] / item['total_trades']) if item['total_trades'] > 0 else 0
            report += f"""
{item['strategy']}:
  ğŸ“ˆ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙ‚Ø§Øª: {item['total_trades']}
  ğŸ¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­: {item['win_rate']:.1f}%
  ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${item['net_profit']:.2f}
  âš¡ ÙƒÙØ§Ø¡Ø© Ø§Ù„ØµÙÙ‚Ø©: ${efficiency:.2f}
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        trends = self._analyze_monthly_trends(daily_summaries)
        for trend in trends:
            report += f"â€¢ {trend}\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„Ø£Ù‡Ø¯Ø§Ù Ù„Ù„Ø´Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
        
        next_month_goals = self._generate_next_month_goals(stats)
        for goal in next_month_goals:
            report += f"â€¢ {goal}\n"
        
        report += """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              ğŸŠ Ø£Ø­Ø³Ù†Øª! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ…ÙŠØ² ğŸŠ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
        
        filename = self.output_dir / f"monthly_report_{today.strftime('%Y_%m')}.txt"
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(report)
        
        return str(filename)
    
    def _generate_recommendations(self, stats: Dict) -> List[str]:
        """ØªÙˆÙ„ÙŠØ¯ ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠØ©"""
        recommendations = []
        
        if stats['total_trades'] == 0:
            recommendations.append("âš ï¸ Ù„Ù… ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø£ÙŠ ØµÙÙ‚Ø§Øª Ø§Ù„ÙŠÙˆÙ…. Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ ØªØ¯Ø§ÙˆÙ„ Ø¬ÙŠØ¯Ø©.")
        else:
            if stats['win_rate'] >= 70:
                recommendations.append("ğŸ‰ Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²! Ù…Ø¹Ø¯Ù„ Ù†Ø¬Ø§Ø­ {:.1f}%. Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…Ù†ÙˆØ§Ù„.".format(stats['win_rate']))
            elif stats['win_rate'] >= 50:
                recommendations.append("ğŸ‘ Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ Ù…Ø¹ Ù…Ø¹Ø¯Ù„ Ù†Ø¬Ø§Ø­ {:.1f}%. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·.".format(stats['win_rate']))
            else:
                recommendations.append("âš ï¸ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ {:.1f}% ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†. Ø±Ø§Ø¬Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØªÙƒ.".format(stats['win_rate']))
            
            if stats['profit_factor'] >= 2:
                recommendations.append("ğŸ’ª Ø¹Ø§Ù…Ù„ Ø±Ø¨Ø­ Ù…Ù…ØªØ§Ø² {:.2f}. Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ø·Ø± Ù…ØªÙ…ÙŠØ²Ø©!".format(stats['profit_factor']))
            elif stats['profit_factor'] < 1:
                recommendations.append("ğŸš¨ Ø¹Ø§Ù…Ù„ Ø§Ù„Ø±Ø¨Ø­ {:.2f} Ø£Ù‚Ù„ Ù…Ù† 1. Ù‚Ù„Ù„ Ø­Ø¬Ù… Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø©.".format(stats['profit_factor']))
            
            if stats['avg_loss'] > stats['avg_win']:
                recommendations.append("âš ï¸ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±Ø¨Ø­. Ø­Ø³Ù‘Ù† Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©.")
        
        return recommendations
    
    def _generate_weekly_analysis(self, stats: Dict, daily_summaries: List[Dict]) -> List[str]:
        """ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ"""
        analysis = []
        
        # Ø£ÙØ¶Ù„ ÙˆØ£Ø³ÙˆØ£ ÙŠÙˆÙ…
        if daily_summaries:
            best_day = max(daily_summaries, key=lambda x: x['net_profit'])
            worst_day = min(daily_summaries, key=lambda x: x['net_profit'])
            
            analysis.append(f"ğŸŒŸ Ø£ÙØ¶Ù„ ÙŠÙˆÙ…: {best_day['date']} Ø¨Ø±Ø¨Ø­ ${best_day['net_profit']:.2f}")
            analysis.append(f"ğŸ“‰ Ø£Ø³ÙˆØ£ ÙŠÙˆÙ…: {worst_day['date']} Ø¨Ø®Ø³Ø§Ø±Ø© ${worst_day['net_profit']:.2f}")
        
        # Ø§Ù„Ø§ØªØ³Ø§Ù‚
        winning_days = len([d for d in daily_summaries if d['net_profit'] > 0])
        total_days = len(daily_summaries)
        
        if total_days > 0:
            consistency = (winning_days / total_days) * 100
            analysis.append(f"ğŸ“Š Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø±Ø§Ø¨Ø­Ø©: {consistency:.1f}% ({winning_days} Ù…Ù† {total_days})")
        
        return analysis
    
    def _analyze_monthly_trends(self, daily_summaries: List[Dict]) -> List[str]:
        """ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©"""
        trends = []
        
        if len(daily_summaries) >= 7:
            # Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹
            first_week = daily_summaries[-7:]
            last_week = daily_summaries[:7]
            
            first_week_profit = sum(d['net_profit'] for d in first_week)
            last_week_profit = sum(d['net_profit'] for d in last_week)
            
            if last_week_profit > first_week_profit:
                improvement = ((last_week_profit - first_week_profit) / abs(first_week_profit) * 100) if first_week_profit != 0 else 0
                trends.append(f"ğŸ“ˆ ØªØ­Ø³Ù† Ù…Ù„Ø­ÙˆØ¸: Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£Ø®ÙŠØ± Ø£ÙØ¶Ù„ Ø¨Ù†Ø³Ø¨Ø© {improvement:.1f}%")
            else:
                trends.append("ğŸ“Š Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ø³ØªÙ‚Ø± Ù…Ø¹ ÙØ±ØµØ© Ù„Ù„ØªØ­Ø³ÙŠÙ†")
        
        # Ø£ÙØ¶Ù„ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
        best_strategy_days = {}
        for day in daily_summaries:
            # ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ­Ù„ÙŠÙ„ Ø£Ø¹Ù…Ù‚ Ù‡Ù†Ø§
            pass
        
        trends.append("ğŸ¯ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· ÙˆØ§ØªØ¨Ø¹ Ø®Ø·Ø© Ø§Ù„ØªØ¯Ø§ÙˆÙ„")
        
        return trends
    
    def _generate_next_month_goals(self, stats: Dict) -> List[str]:
        """ØªÙˆÙ„ÙŠØ¯ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…"""
        goals = []
        
        current_wr = stats['win_rate']
        target_wr = min(current_wr + 5, 80)  # Ø²ÙŠØ§Ø¯Ø© 5% Ø£Ùˆ Ø­Ø¯ Ø£Ù‚ØµÙ‰ 80%
        
        goals.append(f"ğŸ¯ Ø§Ù„Ù‡Ø¯Ù: Ø±ÙØ¹ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ Ù…Ù† {current_wr:.1f}% Ø¥Ù„Ù‰ {target_wr:.1f}%")
        
        if stats['net_profit'] > 0:
            target_profit = stats['net_profit'] * 1.2  # Ø²ÙŠØ§Ø¯Ø© 20%
            goals.append(f"ğŸ’° Ø§Ù„Ù‡Ø¯Ù: ØªØ­Ù‚ÙŠÙ‚ Ø±Ø¨Ø­ ${target_profit:.2f} (Ø²ÙŠØ§Ø¯Ø© 20%)")
        else:
            goals.append("ğŸ’° Ø§Ù„Ù‡Ø¯Ù: ØªØ­Ù‚ÙŠÙ‚ Ø±Ø¨Ø­ÙŠØ© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©")
        
        if stats['profit_factor'] < 2:
            goals.append("âš–ï¸ Ø§Ù„Ù‡Ø¯Ù: Ø±ÙØ¹ Ø¹Ø§Ù…Ù„ Ø§Ù„Ø±Ø¨Ø­ ÙÙˆÙ‚ 2.0")
        
        goals.append("ğŸ“š Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø± ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª")
        goals.append("ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡")
        
        return goals

    def generate_all_reports(self) -> Dict[str, str]:
        """ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©"""
        return {
            'daily': self.generate_daily_report(),
            'weekly': self.generate_weekly_report(),
            'monthly': self.generate_monthly_report()
        }

# Ù…Ø«ÙŠÙ„ Ø¹Ø§Ù…
report_generator = PeriodicReports()
